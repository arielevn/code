<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        var todos = [
            {todoText: 'Item 1', completed: false},
            {todoText: 'Item 2', completed: false},
            {todoText: 'Item 3', completed: false},
        ];

        function add(nextTodo){
            todos.push({todoText: nextTodo, completed: false});
            diplayTodos();
        }

        function edit(position, newItem){
            todos[position] = {todoText: newItem, completed: false};
            // alternative: todo[position].todoText = newItem;
            diplayTodos();
        }

        function remove(x){
            todos.pop(todos[x]);
            // todos.splice(x, 1)  // alternative assignment
        }

        function toggle(position){
            if(todos[position].completed === false){
                todos[position].completed = true; 
            } else{
                todos[position].completed = false;
            }
        }

        function diplayTodos(){
            for(i = 0; i < todos.length; i++){
                console.log(todos[i].todoText);
            }}   

        var completedTodos = 0

        function toggleAll(){
            for(i = 0; i < todos.length; i++){
                if(todos[i].completed === true){
                    completedTodos++;
                }
            }
                
            if(completedTodos === todos.length){
                for(i = 0; i < todos.length; i++){
                    todos[i].completed = false;
                }
            }  else {
                for(i = 0; i < todos.length; i++){
                todos[i].completed = true;
                }
            }
        }

        displayTodos();
            
        // function toggleAll(){
        //     for(i = 0; i < todos.length; i++){
        //     if(todos[i].completed === true){
        //         for(i = 0; i < todos.length; i++){
        //         todos[i].completed = false;
        //         console.log(todos[i]);}
        //     }else{
        //         for(i = 0; i < todos.length; i++){
        //         todos[i].completed = true;
        //         console.log(todos[i]);}
        //     }}}

        //alternative from chatgpt
        // function toggleAll() {
        // // Determine if all todos are completed
        // const allCompleted = todos.every(todo => todo.completed);

        // // Toggle todos in a single loop
        // for (let i = 0; i < todos.length; i++) {
        //     todos[i].completed = !allCompleted; // Set to false if all completed, otherwise true
        //     console.log(todos[i]); // Log the updated todo
        //     }
        // }
    </script>
</body>
</html>