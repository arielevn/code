<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>

    <button id="display-todos-button" class="display-button">
        Display Todos
    </button>

    <button id="toggle-all-button">
        Toggle All
    </button>

    <button id="add-button">
        Add
    </button>

    <input id="add-input">

    <button id="edit-button">
        Edit
    </button>

    <script>

        var todos = [
            {todoText: 'Item 1', completed: false},
            {todoText: 'Item 2', completed: false},
            {todoText: 'Item 3', completed: false},
        ];

        function add(){
            var initialTodoText = addInput.value;
            todos.push({todoText: initialTodoText, completed: false});
            addInput.value = '';
            displayTodos();
        }

        function edit(position, newItem){
            todos[position] = {todoText: newItem, completed: false};
            // alternative: todo[position].todoText = newItem;
            displayTodos();
        }

        function remove(x){
            todos.pop(todos[x]);
            // todos.splice(x, 1)  // alternative assignment
            displayTodos();
        }

        function toggle(position){
            if(todos[position].completed === false){
                todos[position].completed = true; 
            } else{
                todos[position].completed = false;
            }
            displayTodos();
        }

        function displayTodos(){
            for(i = 0; i < todos.length; i++){
                console.log(todos[i].todoText);
            }}   

        

        function toggleAll(){
            var completedTodos = 0

            for(i = 0; i < todos.length; i++){
                if(todos[i].completed === true){
                    completedTodos++;
                }
            }
                
            if(completedTodos === todos.length){
                for(i = 0; i < todos.length; i++){
                    todos[i].completed = false;
                }
            }  else {
                for(i = 0; i < todos.length; i++){
                todos[i].completed = true;
                }
            }
        }

        displayTodos();

        var displayTodosButton = document.getElementById('display-todos-button');
        displayTodosButton.addEventListener('click', displayTodos);
            
        var toggleAllButton = document.getElementById('toggle-all-button');
        toggleAllButton.addEventListener('click', toggleAll);

        var addButton = document.getElementById('add-button');
        var addInput = document.getElementById('add-input');
        addButton.addEventListener('click', add);
        
        var editButton = document.getElementById('edit-button');
        editButton.addEventListener('click', edit)

        // function toggleAll(){
        //     for(i = 0; i < todos.length; i++){
        //     if(todos[i].completed === true){
        //         for(i = 0; i < todos.length; i++){
        //         todos[i].completed = false;
        //         console.log(todos[i]);}
        //     }else{
        //         for(i = 0; i < todos.length; i++){
        //         todos[i].completed = true;
        //         console.log(todos[i]);}
        //     }}}

        //alternative from chatgpt
        // function toggleAll() {
        // // Determine if all todos are completed
        // const allCompleted = todos.every(todo => todo.completed);

        // // Toggle todos in a single loop
        // for (let i = 0; i < todos.length; i++) {
        //     todos[i].completed = !allCompleted; // Set to false if all completed, otherwise true
        //     console.log(todos[i]); // Log the updated todo
        //     }
        // }
    </script>
</body>
</html>